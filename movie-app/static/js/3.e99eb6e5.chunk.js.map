{"version":3,"sources":["scripts/components/head/index.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","scripts/components/cinemaitem/index.js","scripts/components/snack/index.js","scripts/views/cinemadetail/index.js"],"names":["Item","Popover","myImg","src","className","alt","Head","gotoSearch","history","push","back","show","title","go","props","dispatch","clearSearchList","onSelect","opt","setState","visible","selected","value","showActionSheet","handleVisibleChange","BUTTONS","ActionSheet","showActionSheetWithOptions","options","cancelButtonIndex","length","destructiveButtonIndex","message","maskClosable","buttonIndex","clicked","state","this","search","pop","mode","icon","type","rightContent","key","style","marginRight","onClick","mask","overlayClassName","overlayStyle","color","overlay","data-seed","whiteSpace","align","overflow","adjustY","adjustX","offset","onVisibleChange","height","padding","display","alignItems","backgroundColor","onLeftClick","React","Component","connect","searchList","getIn","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","CinemaItem","gotoBuyTicket","renderContent","tab","width","paddingLeft","boxSizing","plist","map","item","i","borderBottom","flexDirection","justifyContent","fontSize","fontWeight","tm","fontSizie","lang","tp","lineHeight","textOverflow","th","vipPrice","vipPriceName","size","getShow","index","console","log","currentItem","tabs","shows","dateShow","renderTabBar","DefaultTabBar","onChange","alert","Modal","Snack","confirm","cancel","gotoBuySnack","sessionStorage","token","cid","backUrl","location","pathname","text","onPress","dealList","snackList","background","textIndent","snack","borderTop","marginTop","marginBottom","imageUrl","replace","position","diaplay","paddingTop","recommendPersonNum","textAlign","borderRadius","right","curNumberDesc","price","inline","CinemaDetail","img","sc","desc","id","getHot","getCinemaDetail","url","params","match","cinemaDetail","movies","showData","nm","URLSearchParams","get","slice","cinemaData","addr","page","tabBarUnderlineStyle","marginLeft","border","tabBarActiveTextColor"],"mappings":"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","file":"static/js/3.e99eb6e5.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { NavBar, Icon, Popover, ActionSheet } from 'antd-mobile';\r\nimport PropTypes from \"prop-types\";\r\nimport { history } from \"&/history\";\r\nimport { connect } from \"react-redux\";\r\nimport { clearSearchList } from \"~/actions/index\";\r\nimport \"./index.scss\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        searchList: state.getIn([\"data\", \"searchList\"])\r\n    }\r\n}\r\n\r\nconst Item = Popover.Item;\r\nconst myImg = src => <img src={`https://gw.alipayobjects.com/zos/rmsportal/${src}.svg`} className=\"am-icon am-icon-xs\" alt=\"\" />;\r\n\r\nclass Head extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            visible: false,\r\n            selected: '',\r\n        }\r\n    }\r\n\r\n    gotoSearch = () => {\r\n        history.push(\"/search\")\r\n    }\r\n\r\n    back = (show, title) => {\r\n        if (show) {\r\n            history.go(-1)\r\n        }\r\n\r\n        if (title === \"搜索\") {\r\n            this.props.dispatch(clearSearchList())\r\n        }\r\n    }\r\n\r\n    onSelect = (opt) => {\r\n        this.setState({\r\n            visible: false,\r\n            selected: opt.props.value,\r\n        })\r\n        // console.log(opt.props.value)\r\n        if (opt.props.value == \"scan\") {\r\n            history.push(\"/scan\")\r\n        } else if (opt.props.value == \"login\") {\r\n            history.push(\"/login\")\r\n        } else if (opt.props.value == \"photo\") {\r\n            this.showActionSheet()\r\n        }\r\n    }\r\n\r\n    handleVisibleChange = (visible) => {\r\n        this.setState({\r\n            visible,\r\n        })\r\n    }\r\n\r\n    showActionSheet = () => {\r\n        const BUTTONS = [\"从手机相册选取\", \"立即拍照\"];\r\n        ActionSheet.showActionSheetWithOptions({\r\n            options: BUTTONS,\r\n            cancelButtonIndex: BUTTONS.length - 1,\r\n            destructiveButtonIndex: BUTTONS.length - 2,\r\n            message: '拍照',\r\n            maskClosable: true,\r\n            'data-seed': 'logId',\r\n        },\r\n            (buttonIndex) => {\r\n                this.setState({ clicked: BUTTONS[buttonIndex] });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            title,\r\n            show,\r\n            search,\r\n            pop\r\n        } = this.props;\r\n        return (\r\n            <div>\r\n                <NavBar\r\n                    mode=\"dark\"\r\n                    icon={show && <Icon type=\"left\" />}\r\n                    rightContent={[\r\n                        search && <Icon\r\n                            key=\"0\"\r\n                            type=\"search\"\r\n                            style={{ marginRight: '16px' }}\r\n                            onClick={this.gotoSearch}\r\n                        />,\r\n                        pop && <Popover\r\n                            mask\r\n                            key={1}\r\n                            overlayClassName=\"fortest\"\r\n                            overlayStyle={{ color: 'currentColor' }}\r\n                            visible={this.state.visible}\r\n                            overlay={[\r\n                                (<Item key=\"4\" value=\"scan\" icon={myImg('tOtXhkIWzwotgGSeptou')} data-seed=\"logId\">扫一扫</Item>),\r\n                                (<Item key=\"5\" value=\"photo\" icon={myImg('PKAgAqZWJVNwKsAJSmXd')} style={{ whiteSpace: 'nowrap' }}>拍照</Item>),\r\n                                (<Item key=\"6\" value=\"login\" icon={myImg('uQIYTFeRrjPELImDRrPt')}>\r\n                                    <span style={{ marginRight: 5 }}>登录</span>\r\n                                </Item>),\r\n                            ]}\r\n                            align={{\r\n                                overflow: { adjustY: 0, adjustX: 0 },\r\n                                offset: [-10, 0],\r\n                            }}\r\n                            onVisibleChange={this.handleVisibleChange}\r\n                            onSelect={this.onSelect}\r\n                        >\r\n                            <div style={{\r\n                                height: '100%',\r\n                                padding: '0 15px',\r\n                                marginRight: '-15px',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                            }}\r\n                            >\r\n                                <Icon type=\"ellipsis\" />\r\n                            </div>\r\n                        </Popover>\r\n                    ]}\r\n                    style={{ backgroundColor: \"#d3544d\" }}\r\n                    onLeftClick={() => this.back(show, title)}\r\n                >{title}</NavBar>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nHead.propTypes = {\r\n    title: PropTypes.string,\r\n    show: PropTypes.bool,\r\n    search: PropTypes.bool,\r\n    pop: PropTypes.bool\r\n}\r\n\r\nexport default connect(mapStateToProps)(Head)","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React from \"react\";\r\nimport { Button, Tabs } from \"antd-mobile\";\r\nimport \"./index.scss\";\r\nimport { history } from \"&/history\";\r\n\r\nexport default class CinemaItem extends React.Component {\r\n    gotoBuyTicket = () => {\r\n        history.push(\"/seat\")\r\n    }\r\n\r\n    renderContent = tab =>\r\n        (<div style={{\r\n            display: 'flex',\r\n            backgroundColor: '#fff'\r\n        }}>\r\n            <ul style={{\r\n                width: \"7.5rem\",\r\n                paddingLeft: \"0.26rem\",\r\n                boxSizing: \"border-box\"\r\n            }}>\r\n                {\r\n                    tab.plist && tab.plist.map((item, i) => {\r\n                        return (\r\n                            <li\r\n                                key={i}\r\n                                style={{ borderBottom: \"0.01rem solid #e1e1e1\" }}\r\n                            >\r\n                                <ol style={{\r\n                                    width: \"7.02rem\",\r\n                                    height: \"1.54rem\",\r\n                                    display: \"flex\",\r\n                                    padding: \"0 0.25rem 0 0\",\r\n                                    boxSizing: \"border-box\",\r\n                                    display: \"flex\",\r\n                                    alignItems: \"center\"\r\n                                }}>\r\n                                    <li style={{\r\n                                        width: \"1.27rem\",\r\n                                        height: \"100%\",\r\n                                        padding: \"0.3rem 0\",\r\n                                        boxSizing: \"border-box\",\r\n                                        display: \"flex\",\r\n                                        flexDirection: \"column\",\r\n                                        justifyContent: \"space-around\"\r\n                                    }}>\r\n                                        <p style={{\r\n                                            fontSize: \"0.3rem\",\r\n                                            fontWeight: \"bolder\"\r\n                                        }}>{item.tm}</p>\r\n                                        <p style={{ fontSizie: \"0.2rem\", color: \"#b1b1b1\" }}>\r\n                                            <span style={{ marginRight: \"0.1rem\" }}></span>\r\n                                            <span>散场</span>\r\n                                        </p>\r\n                                    </li>\r\n                                    <li style={{\r\n                                        width: \"2.16rem\",\r\n                                        height: \"100%\",\r\n                                        padding: \"0.3rem 0\",\r\n                                        boxSizing: \"border-box\",\r\n                                        display: \"flex\",\r\n                                        flexDirection: \"column\",\r\n                                        justifyContent: \"space-around\"\r\n                                    }}>\r\n                                        <p style={{\r\n                                            fontSize: \"0.24rem\",\r\n                                            fontWeight: \"bolder\"\r\n                                        }}>{item.lang + \" \" + item.tp}</p>\r\n                                        <p style={{\r\n                                            width: \"100%\",\r\n                                            height: \"0.4rem\",\r\n                                            lineHeight: \"0.4rem\",\r\n                                            whiteSpace: \"norwrap\",\r\n                                            overflow: \"hidden\",\r\n                                            textOverflow: \"ellipsis\",\r\n                                            fontSizie: \"0.2rem\",\r\n                                            color: \"#b1b1b1\"\r\n                                        }}>{item.th}</p>\r\n                                    </li>\r\n                                    <li style={{\r\n                                        width: \"2.7rem\",\r\n                                        height: \"100%\",\r\n                                        padding: \"0.3rem 0\",\r\n                                        boxSizing: \"border-box\",\r\n                                        display: \"flex\",\r\n                                        flexDirection: \"column\",\r\n                                        justifyContent: \"space-around\"\r\n                                    }}>\r\n                                        <p>\r\n                                            <span style={{\r\n                                                fontSize: \"0.16rem\",\r\n                                                fontWeight: \"bolder\",\r\n                                                color: \"#dd4d41\"\r\n                                            }}>￥</span>\r\n                                            <span style={{\r\n                                                fontSize: \"0.3rem\",\r\n                                                fontWeight: \"bolder\",\r\n                                                color: \"#dd4d41\"\r\n                                            }}>{item.vipPrice}</span>\r\n                                        </p>\r\n                                        {\r\n                                            item.vipPriceName\r\n                                            && <p style={{\r\n                                                fontSizie: \"0.3rem\",\r\n                                                color: \"#b1b1b1\"\r\n                                            }}>折扣卡首单特惠</p>\r\n                                        }\r\n                                    </li>\r\n                                    <li>\r\n                                        <Button type=\"warning\" size=\"small\" onClick={this.gotoBuyTicket}>购票</Button>\r\n                                    </li>\r\n                                </ol>\r\n                            </li>\r\n                        )\r\n                    })\r\n                }\r\n            </ul>\r\n        </div>);\r\n\r\n    getShow = (tab, index) => {\r\n        console.log(tab, index)\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            currentItem\r\n        } = this.props;\r\n\r\n        const tabs = currentItem.shows && currentItem.shows.map(item => {\r\n            item.title = item.dateShow;\r\n            return item\r\n        })\r\n        // console.log(tabs)\r\n\r\n        return (\r\n            <div>\r\n                <Tabs\r\n                    tabs={tabs}\r\n                    renderTabBar={props => <Tabs.DefaultTabBar {...props} />}\r\n                    onChange={(tab, index) => this.getShow(tab, index)}\r\n                >\r\n                    {this.renderContent}\r\n                </Tabs>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { Button, WhiteSpace, Modal } from \"antd-mobile\";\r\nimport \"./index.scss\"\r\nimport { history } from \"&/history\";\r\n\r\nconst alert = Modal.alert;\r\n\r\nexport default class Snack extends React.Component {\r\n\r\n    confirm = () => {\r\n        history.push(\"/login\")\r\n    }\r\n\r\n    cancel = () => {\r\n        history.push(\"/index/cinema\")\r\n    }\r\n\r\n    gotoBuySnack = (index) => {\r\n        if (sessionStorage.token) {\r\n            history.push(\"/order/\" + this.props.cid + \"/?index=\" + index)\r\n        } else {\r\n\r\n            // 离开之前记录backUrl\r\n            sessionStorage.backUrl = history.location.pathname + history.location.search;\r\n            alert(\"您还未登录，是否登录\", '', [\r\n                { text: '取消', onPress: () => this.cancel() },\r\n                { text: '确定', onPress: () => this.confirm() },\r\n            ])\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            dealList\r\n        } = this.props;\r\n        let snackList = dealList && dealList.dealList;\r\n        // console.log(snackList)\r\n\r\n        return (\r\n            <div>\r\n                <p style={{\r\n                    width: \"7.5rem\",\r\n                    height: \"0.85rem\",\r\n                    lineHeight: \"0.85rem\",\r\n                    color: \"#eda541\",\r\n                    fontSize: \"0.24rem\",\r\n                    background: \"#fdf5eb\",\r\n                    textIndent: \"0.5rem\"\r\n                }}>影院超值套餐</p>\r\n                <WhiteSpace />\r\n                <ul style={{\r\n                    width: \"7.5rem\",\r\n                    paddingLeft: \"0.3rem\",\r\n                    boxSizing: \"border-box\",\r\n                    background: \"#fff\"\r\n                }}>\r\n                    {\r\n                        snackList && snackList.map((snack, i) => {\r\n                            return (\r\n                                <li key={i} style={{\r\n                                    width: \"100%\",\r\n                                    borderTop: \"0.01rem solid #dddddd\",\r\n                                }}>\r\n                                    <dl style={{\r\n                                        height: \"1.8rem\",\r\n                                        marginTop: \"0.25rem\",\r\n                                        marginBottom: \"0.25rem\",\r\n                                        display: \"flex\"\r\n                                    }}>\r\n                                        <dt style={{ width: \"1.8rem\", height: \"100%\" }}>\r\n                                            <img\r\n                                                src={snack.imageUrl.replace(\"w.h\", \"85.119\")}\r\n                                                alt=\"\"\r\n                                                style={{\r\n                                                    width: \"100%\", height: \"100%\", display: \"block\"\r\n                                                }}\r\n                                            />\r\n                                        </dt>\r\n                                        <dd style={{\r\n                                            width: \"5.06rem\",\r\n                                            height: \"1.8rem\",\r\n                                            paddingLeft: \"0.2rem\",\r\n                                            boxSizing: \"border-box\",\r\n                                            position: \"relative\",\r\n                                            diaplay: \"flex\",\r\n                                            flexDirection: \"column\",\r\n                                            justifyContent: \"space-around\"\r\n\r\n                                        }}>\r\n                                            <p style={{\r\n                                                width: \"4.85rem\",\r\n                                                display: \"flex\",\r\n                                                paddingTop: \"0.05rem\",\r\n                                                boxSizing: \"border-box\"\r\n                                            }}>\r\n                                                {\r\n                                                    snack.recommendPersonNum == 1\r\n                                                    && <span style={{\r\n                                                        display: \"block\",\r\n                                                        width: \"0.56rem\",\r\n                                                        height: \"0.3rem\",\r\n                                                        fontSize: \"0.15rem\",\r\n                                                        lineHeight: \"0.3rem\",\r\n                                                        textAlign: \"center\",\r\n                                                        color: \"#fff\",\r\n                                                        background: \"#fb9737\",\r\n                                                        borderRadius: \"0.08rem\",\r\n                                                        marginRight: \"0.2rem\",\r\n                                                    }}>单人</span>\r\n                                                }\r\n                                                {\r\n                                                    snack.recommendPersonNum == 2\r\n                                                    && <span style={{\r\n                                                        display: \"block\",\r\n                                                        width: \"0.56rem\",\r\n                                                        height: \"0.3rem\",\r\n                                                        fontSize: \"0.15rem\",\r\n                                                        lineHeight: \"0.3rem\",\r\n                                                        textAlign: \"center\",\r\n                                                        color: \"#fff\",\r\n                                                        background: \"#fb9737\",\r\n                                                        borderRadius: \"0.08rem\",\r\n                                                        marginRight: \"0.2rem\",\r\n                                                    }}>双人</span>\r\n                                                }\r\n                                                {\r\n                                                    snack.recommendPersonNum == 3\r\n                                                    && <span style={{\r\n                                                        display: \"block\",\r\n                                                        width: \"0.56rem\",\r\n                                                        height: \"0.3rem\",\r\n                                                        fontSize: \"0.15rem\",\r\n                                                        lineHeight: \"0.3rem\",\r\n                                                        textAlign: \"center\",\r\n                                                        color: \"#fff\",\r\n                                                        background: \"#fb9737\",\r\n                                                        borderRadius: \"0.08rem\",\r\n                                                        marginRight: \"0.2rem\",\r\n                                                    }}>三人</span>\r\n                                                }\r\n                                                <span style={{ display: \"block\" }}>{snack.title}</span>\r\n                                            </p>\r\n\r\n                                            <p style={{\r\n                                                width: \"100%\",\r\n                                                height: \"0.26rem\",\r\n                                                position: \"relative\",\r\n                                                right: \"0.1rem\",\r\n                                                color: \"#898989\",\r\n                                                marginBottom: \"0.2rem\"\r\n                                            }}>\r\n                                                <span style={{ position: \"absolute\", right: \"0.1rem\" }}>{snack.curNumberDesc}</span>\r\n                                            </p>\r\n\r\n                                            <p style={{\r\n                                                width: \"100%\",\r\n                                                height: \"0.56rem\",\r\n                                                position: \"relative\",\r\n                                                display: \"flex\",\r\n                                                alignItems: \"center\"\r\n                                            }}>\r\n                                                <span style={{\r\n                                                    fontSize: \"0.16rem\",\r\n                                                    fontWeight: \"bolder\",\r\n                                                    color: \"#f73a60\"\r\n                                                }}>￥</span>\r\n                                                <span style={{\r\n                                                    fontSize: \"0.3rem\",\r\n                                                    fontWeight: \"bolder\",\r\n                                                    color: \"#f73a60\"\r\n                                                }}>{snack.price}</span>\r\n                                                <Button\r\n                                                    type=\"warning\"\r\n                                                    size=\"small\"\r\n                                                    inline\r\n                                                    style={{\r\n                                                        position: \"absolute\",\r\n                                                        right: \"0.1rem\"\r\n                                                    }}\r\n                                                    onClick={() => this.gotoBuySnack(i)}\r\n                                                >购买</Button>\r\n                                            </p>\r\n                                        </dd>\r\n                                    </dl>\r\n                                </li>\r\n                            )\r\n                        })\r\n                    }\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Head from \"~/components/head/index\";\r\nimport CinemaItem from \"~/components/cinemaitem/index\";\r\nimport Snack from \"~/components/snack/index\";\r\nimport { Tabs, WhiteSpace, NoticeBar } from 'antd-mobile';\r\nimport { connect } from \"react-redux\";\r\nimport { getCinemaDetail } from \"~/actions/index\";\r\nimport \"./index.scss\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        cinemaDetail: state.getIn([\"data\", \"cinemaDetail\"]),\r\n    }\r\n}\r\n\r\nclass CinemaDetail extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            currentItem: {}\r\n        }\r\n    }\r\n\r\n    renderContent = tab =>\r\n        (<div\r\n            style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                height: '150px',\r\n                backgroundColor: '#fff'\r\n            }}\r\n        >\r\n            <div\r\n                style={{\r\n                    width: \"5.5rem\",\r\n                    display: \"flex\"\r\n                }}>\r\n                <img src={tab.img.replace(\"w.h\", \"85.119\")} alt=\"\" />\r\n                <div\r\n                    style={{\r\n                        width: \"3.8rem\",\r\n                        height: \"2.5rem\",\r\n                        padding: \"0.25rem 0 0 0.2rem\",\r\n                        boxSizing: \"border-box\"\r\n                    }}>\r\n                    <p style={{\r\n                        width: \"100%\",\r\n                        height: \"0.5rem\",\r\n                        lineHeight: \"0.5rem\",\r\n                        fontSize: \"0.3rem\",\r\n                        fontWeight: \"bolder\"\r\n                    }}>{tab.title}\r\n                    </p>\r\n                    <p style={{\r\n                        width: \"100%\",\r\n                        height: \"0.56rem\",\r\n                        display: \"flex\"\r\n                    }}>\r\n                        <span style={{\r\n                            display: \"block\",\r\n                            height: \"100%\",\r\n                            lineHeight: \"0.56rem\",\r\n                            fontSize: \"0.2rem\",\r\n                            color: \"#666\",\r\n                            marginRight: \"0.1rem\"\r\n                        }}>观众评价\r\n                        </span>\r\n                        <span style={{\r\n                            display: \"block\",\r\n                            height: \"100%\",\r\n                            lineHeight: \"0.56rem\",\r\n                            fontSize: \"0.2rem\",\r\n                            color: \"#eeb23d\",\r\n                        }}>{tab.sc}\r\n                        </span>\r\n                    </p>\r\n                    <p style={{\r\n                        width: \"100%\",\r\n                        height: \"0.4rem\",\r\n                        lineHeight: \"0.4rem\",\r\n                        fontSize: \"0.2rem\",\r\n                        color: \"#666\",\r\n                    }}>{tab.desc}\r\n                    </p>\r\n                    <p style={{\r\n                        width: \"100%\",\r\n                        height: \"0.4rem\",\r\n                        lineHeight: \"0.4rem\",\r\n                        fontSize: \"0.2rem\",\r\n                        color: \"#666\",\r\n                    }}>{tab.id}人想看\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>);\r\n\r\n    getHot = (tab, index) => {\r\n        console.log(tab, index);\r\n        this.setState({\r\n            currentItem: tab\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.dispatch(getCinemaDetail({\r\n            url: \"/react/getCinemaDetail\",\r\n            params: {\r\n                cid: this.props.match.params.cid\r\n            }\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            location,\r\n            cinemaDetail\r\n        } = this.props;\r\n\r\n        const {\r\n            currentItem\r\n        } = this.state;\r\n\r\n        const movies = cinemaDetail.showData && cinemaDetail.showData.movies;\r\n        const dealList = cinemaDetail && cinemaDetail.dealList\r\n\r\n        const tabs = movies && movies.map((item) => {\r\n            item.title = item.nm;\r\n            return item;\r\n        })\r\n\r\n        return (\r\n            <div>\r\n                <Head\r\n                    title={new URLSearchParams(location.search).get(\"cname\").slice(0, 9)}\r\n                    show={true}\r\n                    search={true}\r\n                    pop={true}\r\n                />\r\n                <div className=\"title\">\r\n                    <p className=\"cinema-name\">\r\n                        {cinemaDetail.cinemaData && cinemaDetail.cinemaData.nm}\r\n                    </p>\r\n                    <p className=\"cinema-addr\">\r\n                        {cinemaDetail.cinemaData && cinemaDetail.cinemaData.addr}\r\n                    </p>\r\n                </div>\r\n                <WhiteSpace />\r\n                <Tabs\r\n                    tabs={tabs}\r\n                    renderTabBar={props => <Tabs.DefaultTabBar {...props} page={2} />}\r\n                    tabBarUnderlineStyle={{\r\n                        width: \"2.5rem\",\r\n                        marginLeft: \"0.6rem\",\r\n                        border: \"0.03rem solid #d3544d\"\r\n                    }}\r\n                    tabBarActiveTextColor=\"#d3544d\"\r\n                    onChange={(tab, index) => this.getHot(tab, index)}\r\n                >\r\n                    {this.renderContent}\r\n                </Tabs>\r\n                <WhiteSpace />\r\n                <NoticeBar mode=\"link\" onClick={() => alert('1')}>\r\n                    大量出售会员卡，走过路过不要错过，不要998，不要999，只要20元即可开卡，现在开卡，首单最高立减6元。\r\n                </NoticeBar>\r\n                <CinemaItem currentItem={currentItem} />\r\n                <WhiteSpace />\r\n                <Snack dealList={dealList} cid={this.props.match.params.cid} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(CinemaDetail)"],"sourceRoot":""}