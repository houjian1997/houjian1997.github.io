(window["webpackJsonpreact-app"]=window["webpackJsonpreact-app"]||[]).push([[14],{233:function(e,t,a){"use strict";var n=a(51),l=a(52),o=a(54),s=a(53),r=a(55),i=a(0),c=a.n(i),g=a(27),d=a(88),h=a(89),u=a(12),p=(a(234),g.k.Item),m=function(e){return c.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/".concat(e,".svg"),className:"am-icon am-icon-xs",alt:""})},f=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).call(this))).gotoSearch=function(){d.a.push("/search")},e.back=function(t,a){t&&d.a.go(-1),"\u641c\u7d22"===a&&e.props.dispatch(Object(u.n)())},e.onSelect=function(t){e.setState({visible:!1,selected:t.props.value}),"scan"==t.props.value?d.a.push("/scan"):"login"==t.props.value?d.a.push("/login"):"photo"==t.props.value&&e.showActionSheet()},e.handleVisibleChange=function(t){e.setState({visible:t})},e.showActionSheet=function(){var t=["\u4ece\u624b\u673a\u76f8\u518c\u9009\u53d6","\u7acb\u5373\u62cd\u7167"];g.b.showActionSheetWithOptions({options:t,cancelButtonIndex:t.length-1,destructiveButtonIndex:t.length-2,message:"\u62cd\u7167",maskClosable:!0,"data-seed":"logId"},(function(a){e.setState({clicked:t[a]})}))},e.state={visible:!1,selected:""},e}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.show,l=t.search,o=t.pop;return c.a.createElement("div",null,c.a.createElement(g.i,{mode:"dark",icon:n&&c.a.createElement(g.e,{type:"left"}),rightContent:[l&&c.a.createElement(g.e,{key:"0",type:"search",style:{marginRight:"16px"},onClick:this.gotoSearch}),o&&c.a.createElement(g.k,{mask:!0,key:1,overlayClassName:"fortest",overlayStyle:{color:"currentColor"},visible:this.state.visible,overlay:[c.a.createElement(p,{key:"4",value:"scan",icon:m("tOtXhkIWzwotgGSeptou"),"data-seed":"logId"},"\u626b\u4e00\u626b"),c.a.createElement(p,{key:"5",value:"photo",icon:m("PKAgAqZWJVNwKsAJSmXd"),style:{whiteSpace:"nowrap"}},"\u62cd\u7167"),c.a.createElement(p,{key:"6",value:"login",icon:m("uQIYTFeRrjPELImDRrPt")},c.a.createElement("span",{style:{marginRight:5}},"\u767b\u5f55"))],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.handleVisibleChange,onSelect:this.onSelect},c.a.createElement("div",{style:{height:"100%",padding:"0 15px",marginRight:"-15px",display:"flex",alignItems:"center"}},c.a.createElement(g.e,{type:"ellipsis"})))],style:{backgroundColor:"#d3544d"},onLeftClick:function(){return e.back(n,a)}},a))}}]),t}(c.a.Component);t.a=Object(h.b)((function(e){return{searchList:e.getIn(["data","searchList"])}}))(f)},234:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var n=a(51),l=a(52),o=a(54),s=a(53),r=a(55),i=a(0),c=a.n(i),g=a(233),d=a(27),h=a(19),u=a(88),p=[{title:"\u6ce8\u518c"},{title:"\u9a8c\u8bc1\u7801\u767b\u5f55"},{title:"\u5bc6\u7801\u767b\u5f55"}],m=/^1(3|5|7|8|9)\d{9}$/,f=/^[0-9a-zA-Z]\w{5}/,b=/^\d{4}$/,v=null,y=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).call(this))).checkMobile=function(t){var a=e.passWord.state.value;e.setState({registerFlag:m.test(t)&&f.test(a)})},e.checkPassWord=function(t){var a=e.mobile.state.value;e.setState({registerFlag:m.test(a)&&f.test(t)})},e.gotoRegister=function(){e.state.registerFlag&&h.a.get("/react/register",{params:{mobile:e.mobile.state.value,passWord:e.passWord.state.value}}).then((function(t){1==t.data.type&&(e.mobile.state.value="",e.passWord.state.value="",e.setState({page:1}))}))},e.checkPhone=function(t){var a=e.code.state.value;e.setState({codeFlag:m.test(t),loginFlag:m.test(t)&&b.test(a)})},e.checkCode=function(t){var a=e.phone.state.value;e.setState({loginFlag:m.test(a)&&b.test(t)})},e.getCode=function(){v=setInterval((function(){e.state.num>0?(e.state.num--,e.setState({num:e.state.num,codeFlag:!1,txt:"\u8fd8\u5269".concat(e.state.num,"s"),toggle:!1})):(clearInterval(v),e.setState({num:10,codeFlag:!0,txt:"\u83b7\u53d6\u9a8c\u8bc1\u7801",toggle:!0}))}),1e3),h.a.post("/react/sendCode",{phone:e.phone.state.value}).then((function(e){console.log(e)}))},e.pwdLogin=function(){h.a.post("/react/pwdLogin",{mobile:e.mobile.state.value,passWord:e.passWord.state.value}).then((function(e){1==e.data.type&&(sessionStorage.token=e.data.token,sessionStorage.backUrl?u.a.push(sessionStorage.backUrl):u.a.push("/index/mine"))}))},e.state={page:0,registerFlag:!1,codeFlag:!1,loginFlag:!1,num:10,txt:"\u83b7\u53d6\u9a8c\u8bc1\u7801",toggle:!0},e}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.page,n=t.registerFlag,l=t.codeFlag,o=t.loginFlag,s=t.txt,r=t.toggle;return c.a.createElement("div",null,c.a.createElement(g.a,{title:"\u6ce8\u518c/\u767b\u5f55",show:!0,search:!1,pop:!1}),c.a.createElement(d.o,{tabs:p,initialPage:a,swipeable:!0,tabBarUnderlineStyle:{border:"0.02rem solid #d3544d",width:"1.5rem",marginLeft:"0.5rem"},tabBarActiveTextColor:"#d3544d"},c.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"150px",backgroundColor:"#fff"}},c.a.createElement(d.g,{style:{width:"100%"}},c.a.createElement(d.f,{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",ref:function(t){return e.mobile=t},onChange:this.checkMobile},"\u624b\u673a\u53f7\uff1a"),c.a.createElement(d.f,{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",ref:function(t){return e.passWord=t},onChange:this.checkPassWord},"\u5bc6\xa0\xa0\xa0\xa0\u7801\uff1a"),c.a.createElement(d.g.Item,null,c.a.createElement("div",{style:{width:"100%",color:"#108ee9",textAlign:"center"}},c.a.createElement(d.c,{type:"warning",size:"large",disabled:!n,onClick:this.gotoRegister},"\u7acb\u5373\u6ce8\u518c"))))),c.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"150px",backgroundColor:"#fff"}},c.a.createElement(d.g,{style:{width:"100%"}},c.a.createElement(d.f,{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",ref:function(t){return e.phone=t},disabled:!r,onChange:this.checkPhone},"\u624b\u673a\u53f7\uff1a"),c.a.createElement(d.f,{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",ref:function(t){return e.code=t},style:{position:"relative"},disabled:!r,onChange:this.checkCode},"\u9a8c\u8bc1\u7801\uff1a"),c.a.createElement(d.c,{inline:!0,type:"primary",size:"small",style:{position:"absolute",top:"1rem",right:"0.7rem"},disabled:!l,onClick:this.getCode},s),c.a.createElement(d.g.Item,null,c.a.createElement("div",{style:{width:"100%",color:"#108ee9",textAlign:"center"}},c.a.createElement(d.c,{type:"warning",size:"large",disabled:!o},"\u4e00\u79d2\u767b\u5f55"))))),c.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"150px",backgroundColor:"#fff"}},c.a.createElement(d.g,{style:{width:"100%"}},c.a.createElement(d.f,{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",ref:function(t){return e.mobile=t},onChange:this.checkMobile},"\u624b\u673a\u53f7\uff1a"),c.a.createElement(d.f,{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",ref:function(t){return e.passWord=t},onChange:this.checkPassWord},"\u5bc6\xa0\xa0\xa0\xa0\u7801\uff1a"),c.a.createElement(d.g.Item,null,c.a.createElement("div",{style:{width:"100%",color:"#108ee9",textAlign:"center"}},c.a.createElement(d.c,{type:"warning",size:"large",disabled:!n,onClick:this.pwdLogin},"\u4e00\u79d2\u767b\u5f55")))))))}}]),t}(c.a.Component)}}]);
//# sourceMappingURL=14.dc1cf4e4.chunk.js.map